import{r as t,c as e,ch as a,aR as n,aZ as u,ci as s,a as l,e as o,f as i,h as r,i as p,aw as d,aU as c,aG as f}from"./.pnpm-B5NcQQUZ.js";import{_ as y}from"./index-9TLdUthr.js";const m={class:"count-to-wrapper"},g={class:"content-outer"},h=["id"],v=y({__name:"countup",props:{init:{type:Number,default:0},startVal:{type:Number,default:1110},end:{type:Number,required:!0},decimals:{type:Number,default:0},decimal:{type:String,default:"."},duration:{type:Number,default:2},delay:{type:Number,default:0},uneasing:{type:Boolean,default:!1},useGroup:{type:Boolean,default:!1},separator:{type:String,default:","},simplify:{type:Boolean,default:!1},unit:{type:Array,default:()=>[[3,"K+"],[6,"M+"],[9,"B+"]]},countClass:{type:String,default:""},unitClass:{type:String,default:""}},setup(y){const v=y,w=t(null),_=t(null),x=t(""),b=e((()=>`count_to_${a().uid}`));function M(t,e){const a=v;return{endVal:parseInt(t/Math.pow(10,a.unit[e-1][0]),10),unitText:a.unit[e-1][1]}}function N(t){let e=0;if(v.simplify){const{endVal:a,unitText:n}=function(t){const e=v,a=e.unit.length;let n={endVal:0,unitText:""};if(t<Math.pow(10,this.unit[0][0]))n.endVal=t;else for(let u=1;u<a;u++)t>=Math.pow(10,e.unit[u-1][0])&&t<Math.pow(10,e.unit[u][0])&&(n=M(t,u));return t>Math.pow(10,e.unit[a-1][0])&&(n=M(t,a)),n}(t);x.value=n,e=a}else e=t;return e}return n((async()=>{await u();const t=v,e=N(t.end);_.value=new s(w.value,t.end,e,t.decimals,t.duration,{useEasing:!t.uneasing,useGrouping:t.useGroup,separator:t.separator,decimal:t.decimal}),setTimeout((()=>{_.value.error||_.value.start()}),t.delay)})),l((()=>v.end),(t=>{const e=N(t);_.value.update(e)})),(t,e)=>(o(),i("div",m,[r(t.$slots,"left",{},void 0,!0),p("p",g,[p("span",{id:d(b),ref_key:"countupRef",ref:w,class:c(["count-to-count-text","ordinary",y.countClass])},null,10,h),p("i",{class:c(["count-to-unit-text",y.unitClass])},f(d(x)),3)]),r(t.$slots,"right",{},void 0,!0)]))}},[["__scopeId","data-v-f6500574"]]);export{v as default};
