import{_ as e,m as a,x as t}from"./index-CjL9fGc7.js";import{bF as n,bG as l,h as s,ac as o,an as u,ao as c,ah as r,ae as i,aM as p,aX as f,aN as d,ak as v,af as m,aj as y,bH as h,aY as _,ad as b,ay as g,E as x,bI as k,az as j}from"./.pnpm-BLGzruUg.js";const z={class:"captcha"},C={class:"captcha-grid"},I=["onUpdate:modelValue","onInput","onFocus","onBlur","onKeydown"],A=e({__name:"index",props:n({length:{type:Number,default:4},itemStyle:{type:Object,default:()=>({})},size:Number,activeColor:String,valueToArray:Boolean},{valueToArray:!1,activeColor:()=>a("--el-color-primary")}),emits:["complete","focus","blur"],setup(e,{expose:a,emit:t}){l((a=>({e5992e60:e.activeColor})));const n=t,b=s(Array(e.length).fill("")),g=s([]),x=s(-1);function k(){const a=b.value;return e.valueToArray?a:null==a?void 0:a.join("")}function j(e){return x.value===e}return a({getValue:k}),(a,t)=>{const l=_;return o(),u("div",z,[c("div",C,[r(l,{size:e.size},{default:i((()=>[(o(!0),u(p,null,f(e.length,((a,t)=>(o(),u("div",{key:t,class:d([{focused:j(t)},"captcha-box"]),style:v(e.itemStyle)},[m(c("input",{ref_for:!0,ref_key:"captchaInputRef",ref:g,"onUpdate:modelValue":e=>y(b)[t]=e,type:"text",maxlength:"1",class:"captcha-input",onInput:a=>function(a){const t=b.value,l=g.value;t[a]&&a<e.length-1?l[a+1].focus():e.length,t.every((e=>![void 0,null,""].includes(e)))&&n("complete",k())}(t),onFocus:e=>function(e){x.value=e,n("focus",e)}(t),onBlur:e=>function(e){e===x.value&&(x.value=-1),n("blur",e)}(t),onKeydown:a=>function(a,t){if("Backspace"===t.key){const t=b.value,n=g.value;a!==e.length-1||t[a]?a>0&&!t[a]&&n[a-1].focus():a>0&&n[a-1].focus()}}(t,a)},null,40,I),[[h,y(b)[t]]])],6)))),128))])),_:1},8,["size"])])])}}},[["__scopeId","data-v-3b470984"]]),B={__name:"index",setup(e){const a=s(null);function n(e){x.success("验证码："+e)}function l(){x.success("验证码："+a.value.getValue())}return(e,s)=>{const u=k,c=j,p=t;return o(),b(p,null,{default:i((()=>[r(u,{title:"更多参数查看源代码",type:"success",closable:!1}),r(y(A),{ref_key:"captchaRef",ref:a,length:6,onComplete:n},null,512),r(c,{type:"primary",onClick:l},{default:i((()=>s[0]||(s[0]=[g("获取值")]))),_:1})])),_:1})}}};export{B as default};
