import{as as e,h as t,aJ as l,aI as a,ac as o,an as n}from"./.pnpm-BLGzruUg.js";const r={__name:"image-verify-code",props:{modelValue:{type:String,default:""},modelModifiers:{}},emits:["update:modelValue"],setup(r,{expose:s}){const i=e(r,"modelValue"),f=t(null),u=t("");function c(){const e=f.value;e&&(u.value=function(e,t,l){let a="";const o="0123456789",n=e.getContext("2d");if(!n)return a;n.fillStyle=m(180,230),n.fillRect(0,0,t,l);for(let r=0;r<4;r+=1){const e=o[h(0,o.length)];a+=e;const t=h(18,41),l=h(-30,30);n.font=`${t}px Simhei`,n.textBaseline="top",n.fillStyle=m(80,150),n.save(),n.translate(30*r+15,15),n.rotate(l*Math.PI/180),n.fillText(e,-10,-15),n.restore()}for(let r=0;r<5;r+=1)n.beginPath(),n.moveTo(h(0,t),h(0,l)),n.lineTo(h(0,t),h(0,l)),n.strokeStyle=m(180,230),n.closePath(),n.stroke();for(let r=0;r<41;r+=1)n.beginPath(),n.arc(h(0,t),h(0,l),1,0,2*Math.PI),n.closePath(),n.fillStyle=m(150,200),n.fill();return a}(e,120,40))}function h(e,t){return Math.floor(Math.random()*(t-e)+e)}function m(e,t){return`rgb(${h(e,t)},${h(e,t)},${h(e,t)})`}return l((()=>c())),a((()=>i.value),(e=>u.value=e)),a(u,(e=>i.value=e)),s({getImgCode:c}),(e,t)=>(o(),n("canvas",{ref_key:"canvasRef",ref:f,width:"120",height:"40",class:"cursor-pointer",onClick:c},null,512))}};export{r as default};
