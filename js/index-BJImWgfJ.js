import{_ as e,m as a,x as t}from"./index-9TLdUthr.js";import{bK as n,bL as s,r as l,e as o,f as u,i as c,av as r,as as i,F as p,g as f,aU as d,n as v,at as m,aw as y,bM as h,b2 as b,ar as g,aH as _,E as x,bN as k,aI as C}from"./.pnpm-B5NcQQUZ.js";const I={class:"captcha"},j={class:"captcha-grid"},z=["onUpdate:modelValue","onInput","onFocus","onBlur","onKeydown"],A=e({__name:"index",props:n({length:{type:Number,default:4},itemStyle:{type:Object,default:()=>({})},size:Number,activeColor:String,valueToArray:Boolean},{valueToArray:!1,activeColor:()=>a("--el-color-primary")}),emits:["complete","focus","blur"],setup(e,{expose:a,emit:t}){s((a=>({e5992e60:e.activeColor})));const n=t,g=l(Array(e.length).fill("")),_=l([]),x=l(-1);function k(){const a=g.value;return e.valueToArray?a:null==a?void 0:a.join("")}function C(e){return x.value===e}return a({getValue:k}),(a,t)=>{const s=b;return o(),u("div",I,[c("div",j,[r(s,{size:e.size},{default:i((()=>[(o(!0),u(p,null,f(e.length,((a,t)=>(o(),u("div",{key:t,class:d([{focused:C(t)},"captcha-box"]),style:v(e.itemStyle)},[m(c("input",{ref_for:!0,ref_key:"captchaInputRef",ref:_,"onUpdate:modelValue":e=>y(g)[t]=e,type:"text",maxlength:"1",class:"captcha-input",onInput:a=>function(a){const t=g.value,s=_.value;t[a]&&a<e.length-1?s[a+1].focus():e.length,t.every((e=>![void 0,null,""].includes(e)))&&n("complete",k())}(t),onFocus:e=>function(e){x.value=e,n("focus",e)}(t),onBlur:e=>function(e){e===x.value&&(x.value=-1),n("blur",e)}(t),onKeydown:a=>function(a,t){if("Backspace"===t.key){const t=g.value,n=_.value;a!==e.length-1||t[a]?a>0&&!t[a]&&n[a-1].focus():a>0&&n[a-1].focus()}}(t,a)},null,40,z),[[h,y(g)[t]]])],6)))),128))])),_:1},8,["size"])])])}}},[["__scopeId","data-v-3b470984"]]),B={__name:"index",setup(e){const a=l(null);function n(e){x.success("验证码："+e)}function s(){x.success("验证码："+a.value.getValue())}return(e,l)=>{const u=k,c=C,p=t;return o(),g(p,null,{default:i((()=>[r(u,{title:"更多参数查看源代码",type:"success",closable:!1}),r(y(A),{ref_key:"captchaRef",ref:a,length:6,onComplete:n},null,512),r(c,{type:"primary",onClick:s},{default:i((()=>l[0]||(l[0]=[_("获取值")]))),_:1})])),_:1})}}};export{B as default};
