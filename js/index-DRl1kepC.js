import{e,x as t}from"./index-CjL9fGc7.js";import{h as n,ac as o,ad as i,ae as r,ah as c,ay as s,ao as a,az as l,bE as u}from"./.pnpm-BLGzruUg.js";const d=function(e,t){if(!(this instanceof d))return new d(e,t);if(this.options=this.extend({noPrint:".no-print"},t),"string"==typeof e)try{this.dom=document.querySelector(e)}catch{var n=document.createElement("div");n.innerHTML=e,this.dom=n}else this.isDOM(e),this.dom=this.isDOM(e)?e:e.$el;this.init()};d.prototype={init:function(){var e=this.getStyle()+this.getHtml();this.writeIframe(e)},extend:function(e,t){for(var n in t)e[n]=t[n];return e},getStyle:function(){for(var e="",t=document.querySelectorAll("style,link"),n=0;n<t.length;n++)e+=t[n].outerHTML;return e+="<style>"+(this.options.noPrint?this.options.noPrint:".no-print")+"{display:none;}</style>",e+="<style>html,body{background-color:#fff;}</style>"},getHtml:function(){for(var e=document.querySelectorAll("input"),t=document.querySelectorAll("textarea"),n=document.querySelectorAll("select"),o=0;o<e.length;o++)"checkbox"==e[o].type||"radio"==e[o].type?1==e[o].checked?e[o].setAttribute("checked","checked"):e[o].removeAttribute("checked"):(e[o].type,e[o].setAttribute("value",e[o].value));for(var i=0;i<t.length;i++)"textarea"==t[i].type&&(t[i].innerHTML=t[i].value);for(var r=0;r<n.length;r++)if("select-one"==n[r].type){var c=n[r].children;for(var s in c)"OPTION"==c[s].tagName&&(1==c[s].selected?c[s].setAttribute("selected","selected"):c[s].removeAttribute("selected"))}return this.dom.outerHTML},writeIframe:function(e){var t,n,o=document.createElement("iframe"),i=document.body.appendChild(o);o.id="myIframe",o.setAttribute("style","position:absolute;width:0;height:0;top:-10px;left:-10px;"),t=i.contentWindow||i.contentDocument,(n=i.contentDocument||i.contentWindow.document).open(),n.write(e),n.close();var r=this;o.onload=function(){r.toPrint(t),setTimeout((function(){document.body.removeChild(o)}),100)}},toPrint:function(e){try{setTimeout((function(){e.focus();try{e.document.execCommand("print",!1,null)||e.print()}catch(t){e.print()}e.close()}),10)}catch(t){}},isDOM:"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}};const f={class:"item"},m={__name:"index",setup(m){const h=n(null);function p(){const e=h.value;e&&d(e)}function y(){d("<h2>TITLE</h2><p>动态创建的DOM结构</p>")}return(n,d)=>{const m=l,v=e,b=u,g=t;return o(),i(g,{"show-title":!1},{default:r((()=>[c(b,{header:"普通打印",shadow:"never"},{default:r((()=>[c(m,{type:"primary",onClick:p},{default:r((()=>d[0]||(d[0]=[s("普通打印")]))),_:1}),a("div",{ref_key:"divRef",ref:h},[a("div",f,[d[1]||(d[1]=s(" 打印内容1 ")),c(v,{name:"InfoFilled"}),d[2]||(d[2]=a("p",{class:"no-print"},"忽略打印",-1))]),d[3]||(d[3]=a("div",{style:{"page-break-after":"always"}},null,-1)),d[4]||(d[4]=a("div",{class:"item"},"打印内容2",-1))],512)])),_:1}),c(b,{header:"打印创建的DOM结构，适用于远程获取模板后打印",shadow:"never",class:"card-box"},{default:r((()=>[c(m,{type:"primary",onClick:y},{default:r((()=>d[5]||(d[5]=[s("动态打印")]))),_:1})])),_:1})])),_:1})}}};export{m as default};
