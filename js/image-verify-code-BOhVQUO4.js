import{aj as e,r as t,aA as l,az as a,a3 as o,ae as n}from"./.pnpm-DSXWUmMM.js";const r={__name:"image-verify-code",props:{modelValue:{type:String,default:""},modelModifiers:{}},emits:["update:modelValue"],setup(r,{expose:s}){const i=e(r,"modelValue"),f=t(null),u=t("");function c(){const e=f.value;e&&(u.value=function(e,t,l){let a="";const o="0123456789",n=e.getContext("2d");if(!n)return a;n.fillStyle=d(180,230),n.fillRect(0,0,t,l);for(let r=0;r<4;r+=1){const e=o[m(0,o.length)];a+=e;const t=m(18,41),l=m(-30,30);n.font=`${t}px Simhei`,n.textBaseline="top",n.fillStyle=d(80,150),n.save(),n.translate(30*r+15,15),n.rotate(l*Math.PI/180),n.fillText(e,-10,-15),n.restore()}for(let r=0;r<5;r+=1)n.beginPath(),n.moveTo(m(0,t),m(0,l)),n.lineTo(m(0,t),m(0,l)),n.strokeStyle=d(180,230),n.closePath(),n.stroke();for(let r=0;r<41;r+=1)n.beginPath(),n.arc(m(0,t),m(0,l),1,0,2*Math.PI),n.closePath(),n.fillStyle=d(150,200),n.fill();return a}(e,120,40))}function m(e,t){return Math.floor(Math.random()*(t-e)+e)}function d(e,t){return`rgb(${m(e,t)},${m(e,t)},${m(e,t)})`}return l((()=>c())),a((()=>i.value),(e=>u.value=e)),a(u,(e=>i.value=e)),s({getImgCode:c}),(e,t)=>(o(),n("canvas",{ref_key:"canvasRef",ref:f,width:"120",height:"40",class:"cursor-pointer",onClick:c},null,512))}};export{r as default};
