import{C as e}from"./card-form-DiHuLijt.js";import{r as a,e as l,f as r,i as o,av as d,as as s,aD as u,aw as t,aV as m,ax as n,F as p,aH as c,ar as i,aY as f,b5 as b,b7 as V,b8 as g,aI as w,bF as _}from"./.pnpm-B5NcQQUZ.js";import{_ as v,q as h,v as y}from"./index-9TLdUthr.js";import{u as q}from"./useForm-BAG80Yrx.js";const U={class:"create-account"},N={class:"create-header"},k={class:"card-wrapper flex"},x=v({__name:"index",setup(v){const{formData:x,formRef:P,formConfig:T}=q({accountName:"",phone:"",email:"",name:"",accountType:"personal",password:"",confirmPwd:""},{labelWidth:105}),j={accountName:[{required:!0,message:"请输入账号名",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:(e,a,l)=>{h(a)?l():l(new Error("请输入正确的手机号"))}}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:(e,a,l)=>{y(a)?l():l(new Error("请输入正确的邮箱"))}}],name:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],accountType:[{required:!0,message:"请选择账号类型",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],confirmPwd:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:(e,a,l)=>{a!==x.value.password?l(new Error("两次输入的密码不一致")):l()}}]},C=a(!1);async function E(){await P.value.validate(),C.value=!0}return(a,v)=>{const h=n,y=f,q=b,F=V,I=g,$=w,D=_,R=e;return l(),r("div",U,[o("div",N,[d(h,{onBack:v[0]||(v[0]=e=>a.$router.go(-1))},{content:s((()=>v[10]||(v[10]=[o("h4",null,"注册新账号",-1)]))),_:1})]),o("div",k,[d(R,u({ref_key:"formRef",ref:P,modelValue:t(x),"onUpdate:modelValue":v[9]||(v[9]=e=>m(x)?x.value=e:null),rules:j},t(T),{class:"card-form"}),{default:s((()=>[t(C)?(l(),i(D,{key:1,icon:"success",title:"注册成功","sub-title":"快去登录吧"},{extra:s((()=>[d($,{type:"primary",onClick:v[8]||(v[8]=e=>a.$router.replace(`/${a.LOGIN_NAME}`))},{default:s((()=>v[12]||(v[12]=[c("返回登录")]))),_:1})])),_:1})):(l(),r(p,{key:0},[d(q,{label:"账号名",prop:"accountName"},{default:s((()=>[d(y,{modelValue:t(x).accountName,"onUpdate:modelValue":v[1]||(v[1]=e=>t(x).accountName=e),placeholder:"请输入账号名如：admin"},null,8,["modelValue"])])),_:1}),d(q,{label:"手机号",prop:"phone"},{default:s((()=>[d(y,{modelValue:t(x).phone,"onUpdate:modelValue":v[2]||(v[2]=e=>t(x).phone=e),placeholder:"请输入手机号"},null,8,["modelValue"])])),_:1}),d(q,{label:"邮箱",prop:"email"},{default:s((()=>[d(y,{modelValue:t(x).email,"onUpdate:modelValue":v[3]||(v[3]=e=>t(x).email=e),placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1}),d(q,{label:"真实姓名",prop:"name"},{default:s((()=>[d(y,{modelValue:t(x).name,"onUpdate:modelValue":v[4]||(v[4]=e=>t(x).name=e),placeholder:"请输入真实姓名"},null,8,["modelValue"])])),_:1}),d(q,{label:"账号类型",prop:"accountType"},{default:s((()=>[d(I,{modelValue:t(x).accountType,"onUpdate:modelValue":v[5]||(v[5]=e=>t(x).accountType=e)},{default:s((()=>[d(F,{label:"企业",value:"enterprise"}),d(F,{label:"个人",value:"personal"}),d(F,{label:"团队",value:"team"}),d(F,{label:"游客",value:"visitor"}),d(F,{label:"其他",value:"other"})])),_:1},8,["modelValue"])])),_:1}),d(q,{label:"密码",prop:"password"},{default:s((()=>[d(y,{modelValue:t(x).password,"onUpdate:modelValue":v[6]||(v[6]=e=>t(x).password=e),"show-password":"",placeholder:"请输入密码",type:"password"},null,8,["modelValue"])])),_:1}),d(q,{label:"确认新密码",prop:"confirmPwd"},{default:s((()=>[d(y,{modelValue:t(x).confirmPwd,"onUpdate:modelValue":v[7]||(v[7]=e=>t(x).confirmPwd=e),"show-password":"",placeholder:"再次确认新密码",type:"password"},null,8,["modelValue"])])),_:1}),d(q,null,{default:s((()=>[d($,{type:"primary",onClick:E},{default:s((()=>v[11]||(v[11]=[c("提交")]))),_:1})])),_:1})],64))])),_:1},16,["modelValue"])])])}}},[["__scopeId","data-v-51b1cb6b"]]);export{x as default};
