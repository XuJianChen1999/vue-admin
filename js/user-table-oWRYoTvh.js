import{e,f as a,av as t,as as l,aw as s,aH as r,aG as n,i,ar as o,j as p,aV as m,F as d,aX as u,b6 as c,bH as f,bp as y,aI as b,ck as v}from"./.pnpm-B5NcQQUZ.js";import{U as h,a as x,_}from"./edit-user-DfNSMpmW.js";import{u as j}from"./useModal-B_iEuiqH.js";import w from"./index-M8tU9IPl.js";import{I as k}from"./index-kRU1Fxm9.js";import"./useForm-BAG80Yrx.js";import"./drawer-DyS2Be_b.js";import"./index-9TLdUthr.js";const g={style:{cursor:"pointer"}},V={__name:"user-table",props:{data:{type:Array,default:()=>[]}},setup(V){const{visible:S,modalData:C,open:N}=j(),U=[{label:"姓名",prop:"name"},{label:"头像",slot:"avatar"},{label:"是否在线",slot:"online"},{label:"部门",slot:"departmentName"},{label:"禁用",slot:"enable"},{label:"密码",prop:"password"},{label:"手机号",slot:"phone",width:120},{label:"性别",slot:"sex"},{label:"用户类型",slot:"type",width:120},{label:"创建时间",prop:"createTime",width:120},{label:"操作",slot:"handler",fixed:"right",width:210}];return(j,$)=>{const z=u,D=c,F=f,H=y,I=b,A=v;return e(),a(d,null,[t(s(w),{data:V.data,columns:U,border:!1},{online:l((({item:e})=>[t(s(k),{type:e.status?"success":"danger",size:6},null,8,["type"])])),avatar:l((({item:e})=>[t(z,{src:e.avatarUrl,size:40},null,8,["src"])])),enable:l((({item:e})=>[t(D,{"model-value":e.enable,"active-value":1,"inactive-value":0,"active-text":"启用","inactive-text":"禁用","inline-prompt":""},null,8,["model-value"])])),type:l((({item:e})=>{return[t(F,{type:(a=e.type,{[x.Staff]:"primary",[x.Service]:"primary",[x.Customer]:"success",[x.Supplier]:"success",[x.Visitor]:"info",[x.BlackList]:"danger"}[a]||"warning")},{default:l((()=>[r(n(s(h)[e.type]||"未知"),1)])),_:2},1032,["type"])];var a})),phone:l((({item:e,index:a})=>[t(H,{content:e.phone,placement:0===a?"top":a+1===V.data.length?"bottom":"left-start"},{reference:l((()=>{return[i("span",g,n((a=e.phone,`${null==a?void 0:a.slice(0,3)}****${null==a?void 0:a.slice(-4)}`)),1)];var a})),_:2},1032,["content","placement"])])),sex:l((({item:e})=>[t(F,{type:1===e.sex?"primary":"success",effect:"plain"},{default:l((()=>[r(n(1===e.sex?"男":"女"),1)])),_:2},1032,["type"])])),departmentName:l((({item:e})=>[r(n(e.type!==s(x).Staff?"-":e.departmentName),1)])),handler:l((({item:a})=>[t(I,{type:"primary",icon:"Edit",link:"",onClick:e=>s(N)(a)},{default:l((()=>$[1]||($[1]=[r("编辑")]))),_:2},1032,["onClick"]),"admin"===a.name?(e(),o(I,{key:0,type:"primary",icon:"Plus",link:""},{default:l((()=>$[2]||($[2]=[r("新增")]))),_:1})):p("",!0),t(A,{title:`确定要删除 ${a.name} 吗？`,width:"210","confirm-button-type":"danger"},{reference:l((()=>[t(I,{link:"",type:"danger",icon:"Delete"},{default:l((()=>$[3]||($[3]=[r("删除")]))),_:1})])),_:2},1032,["title"])])),_:1},8,["data"]),t(s(_),{modelValue:s(S),"onUpdate:modelValue":$[0]||($[0]=e=>m(S)?S.value=e:null),user:s(C)},null,8,["modelValue","user"])],64)}}};export{V as default};
