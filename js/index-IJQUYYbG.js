import{_ as e,c as a,W as s,d as l,e as t}from"./index-CMBT9BYn.js";import{ai as i,aj as n,a2 as d,r as o,az as m,aM as r,a3 as c,ae as u,af as p,ab as f,aa as g,aD as y,aR as b,aG as v,a8 as k,ak as x,ao as h,cb as z,c4 as _}from"./.pnpm-DSXWUmMM.js";const C={class:"segmented-group"},$=["onClick"],w={class:"segmented-item-text",style:{"line-height":"1"}},R=e({__name:"index",props:i({options:{type:Array,default:()=>[]},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:"default",validator:e=>["default","large","small"].includes(e)},resize:{type:Boolean,default:!1}},{modelValue:{type:Number,default:0},modelModifiers:{}}),emits:i(["change"],["update:modelValue"]),setup(e,{emit:i}){const R=n(e,"modelValue"),j=e,B=i,V=a(),I=d((()=>V.globalConfig.primaryColor)),L=o(0),M=o(0),N=o(!1),S=_();async function W(e=R.value){var a;await r();const s=null==(a=null==S?void 0:S.proxy)?void 0:a.$refs[`itemRef${e}`];(s||s.length)&&(L.value=s[0].clientWidth,M.value=s[0].offsetLeft,N.value=!0)}function q(){const e=document.querySelector(".segmented");z(e,(async()=>{await r(),W(R.value)}))}return(j.block||j.resize)&&q(),m((()=>R.value),(async e=>{await r(),W(e)}),{immediate:!0}),m((()=>j.size),q,{immediate:!0}),(a,i)=>{const n=t;return c(),u("div",{class:v({segmented:!0,"segmented-block":e.block,"segmented-large":"large"===e.size,"segmented-small":"small"===e.size})},[p("div",C,[p("div",{class:"segmented-item-bar",style:f({width:`${g(L)}px`,transform:`translateX(${g(M)}px)`,display:g(N)?"block":"none",backgroundColor:e.disabled||j.options.find(((e,a)=>a===R.value&&e.disabled))?g(s)(g(I)):""})},null,4),(c(!0),u(y,null,b(e.options,((a,s)=>(c(),u("div",{key:s,ref_for:!0,ref:`itemRef${s}`,class:v(["segmented-item",R.value===s&&"segmented-item-active",(e.disabled||a.disabled)&&"segmented-item-disabled"]),onClick:e=>function({item:e,index:a}){j.disabled||e.disabled||(R.value=a,B("change",{index:a,item:e}))}({item:a,index:s})},[a.icon?(c(),u("span",{key:0,class:"segmented-item-icon",style:f({marginRight:a.label?"4px":0})},[k(n,{name:a.icon,type:a.iconType||g(l).EL_ICON},null,8,["name","type"])],4)):x("",!0),p("span",w,h(a.label),1)],10,$)))),128))])],2)}}},[["__scopeId","data-v-97426516"]]);export{R as default};
