import{ac as e,an as a,ah as t,ae as l,aj as s,ay as r,ax as n,ao as i,ad as o,at as p,aO as m,aM as d,aQ as u,b0 as c,bC as y,bj as f,az as b,ci as v}from"./.pnpm-BLGzruUg.js";import{U as h,a as x,_}from"./edit-user-CLYLNZjj.js";import{u as j}from"./useModal-ButRR0-F.js";import w from"./index-C-fNoG01.js";import{I as g}from"./index-LH_VtlDM.js";import"./useForm-_BcR63q1.js";import"./drawer-nnuuROzu.js";import"./index-CjL9fGc7.js";const k={style:{cursor:"pointer"}},C={__name:"user-table",props:{data:{type:Array,default:()=>[]}},setup(C){const{visible:S,modalData:V,open:z}=j(),N=[{label:"姓名",prop:"name"},{label:"头像",slot:"avatar"},{label:"是否在线",slot:"online"},{label:"部门",slot:"departmentName"},{label:"禁用",slot:"enable"},{label:"密码",prop:"password"},{label:"手机号",slot:"phone",width:120},{label:"性别",slot:"sex"},{label:"用户类型",slot:"type",width:120},{label:"创建时间",prop:"createTime",width:120},{label:"操作",slot:"handler",fixed:"right",width:210}];return(j,U)=>{const $=u,D=c,M=y,A=f,B=b,E=v;return e(),a(d,null,[t(s(w),{data:C.data,columns:N,border:!1},{online:l((({item:e})=>[t(s(g),{type:e.status?"success":"danger",size:6},null,8,["type"])])),avatar:l((({item:e})=>[t($,{src:e.avatarUrl,size:40},null,8,["src"])])),enable:l((({item:e})=>[t(D,{"model-value":e.enable,"active-value":1,"inactive-value":0,"active-text":"启用","inactive-text":"禁用","inline-prompt":""},null,8,["model-value"])])),type:l((({item:e})=>{return[t(M,{type:(a=e.type,{[x.Staff]:"primary",[x.Service]:"primary",[x.Customer]:"success",[x.Supplier]:"success",[x.Visitor]:"info",[x.BlackList]:"danger"}[a]||"warning")},{default:l((()=>[r(n(s(h)[e.type]||"未知"),1)])),_:2},1032,["type"])];var a})),phone:l((({item:e,index:a})=>[t(A,{content:e.phone,placement:0===a?"top":a+1===C.data.length?"bottom":"left-start"},{reference:l((()=>{return[i("span",k,n((a=e.phone,`${null==a?void 0:a.slice(0,3)}****${null==a?void 0:a.slice(-4)}`)),1)];var a})),_:2},1032,["content","placement"])])),sex:l((({item:e})=>[t(M,{type:1===e.sex?"primary":"success",effect:"plain"},{default:l((()=>[r(n(1===e.sex?"男":"女"),1)])),_:2},1032,["type"])])),departmentName:l((({item:e})=>[r(n(e.type!==s(x).Staff?"-":e.departmentName),1)])),handler:l((({item:a})=>[t(B,{type:"primary",icon:"Edit",link:"",onClick:e=>s(z)(a)},{default:l((()=>U[1]||(U[1]=[r("编辑")]))),_:2},1032,["onClick"]),"admin"===a.name?(e(),o(B,{key:0,type:"primary",icon:"Plus",link:""},{default:l((()=>U[2]||(U[2]=[r("新增")]))),_:1})):p("",!0),t(E,{title:`确定要删除 ${a.name} 吗？`,width:"210","confirm-button-type":"danger"},{reference:l((()=>[t(B,{link:"",type:"danger",icon:"Delete"},{default:l((()=>U[3]||(U[3]=[r("删除")]))),_:1})])),_:2},1032,["title"])])),_:1},8,["data"]),t(s(_),{modelValue:s(S),"onUpdate:modelValue":U[0]||(U[0]=e=>m(S)?S.value=e:null),user:s(V)},null,8,["modelValue","user"])],64)}}};export{C as default};
