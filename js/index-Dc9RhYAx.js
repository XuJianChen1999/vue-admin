import{_ as e,c as a,X as s,d as l,e as t}from"./index-CjL9fGc7.js";import{ar as i,as as n,ab as d,h as o,aI as m,aS as c,ac as r,an as u,ao as p,ak as f,aj as g,aM as y,aX as b,aN as v,ah as x,at as k,ax as h,cl as _,cf as z}from"./.pnpm-BLGzruUg.js";const C={class:"segmented-group"},$=["onClick"],w={class:"segmented-item-text",style:{"line-height":"1"}},j=e({__name:"index",props:i({options:{type:Array,default:()=>[]},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:"default",validator:e=>["default","large","small"].includes(e)},resize:{type:Boolean,default:!1}},{modelValue:{type:Number,default:0},modelModifiers:{}}),emits:i(["change"],["update:modelValue"]),setup(e,{emit:i}){const j=n(e,"modelValue"),B=e,I=i,N=a(),R=d((()=>N.globalConfig.primaryColor)),S=o(0),V=o(0),X=o(!1),L=z();async function M(e=j.value){var a;await c();const s=null==(a=null==L?void 0:L.proxy)?void 0:a.$refs[`itemRef${e}`];(s||s.length)&&(S.value=s[0].clientWidth,V.value=s[0].offsetLeft,X.value=!0)}function q(){const e=document.querySelector(".segmented");_(e,(async()=>{await c(),M(j.value)}))}return(B.block||B.resize)&&q(),m((()=>j.value),(async e=>{await c(),M(e)}),{immediate:!0}),m((()=>B.size),q,{immediate:!0}),(a,i)=>{const n=t;return r(),u("div",{class:v({segmented:!0,"segmented-block":e.block,"segmented-large":"large"===e.size,"segmented-small":"small"===e.size})},[p("div",C,[p("div",{class:"segmented-item-bar",style:f({width:`${g(S)}px`,transform:`translateX(${g(V)}px)`,display:g(X)?"block":"none",backgroundColor:e.disabled||B.options.find(((e,a)=>a===j.value&&e.disabled))?g(s)(g(R)):""})},null,4),(r(!0),u(y,null,b(e.options,((a,s)=>(r(),u("div",{key:s,ref_for:!0,ref:`itemRef${s}`,class:v(["segmented-item",j.value===s&&"segmented-item-active",(e.disabled||a.disabled)&&"segmented-item-disabled"]),onClick:e=>function({item:e,index:a}){B.disabled||e.disabled||(j.value=a,I("change",{index:a,item:e}))}({item:a,index:s})},[a.icon?(r(),u("span",{key:0,class:"segmented-item-icon",style:f({marginRight:a.label?"4px":0})},[x(n,{name:a.icon,type:a.iconType||g(l).EL_ICON},null,8,["name","type"])],4)):k("",!0),p("span",w,h(a.label),1)],10,$)))),128))])],2)}}},[["__scopeId","data-v-97426516"]]);export{j as default};
